define(["jquery","vendor/core/mediator"],function(t,e){function n(t){s||o(),s.append(t),e.publish("open.on.overlay")}function i(){s.off("click").removeClass(c),t(window).on("resize orientationchange",r),t("body").css("overflow","auto"),e.publish("close.on.overlay")}function o(){s=t('<div class="overlay"></div>'),t("body").append(s),r()}function a(){s.on("click",i).addClass(c),e.publish("open.on.overlay")}function r(){s.height(Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.body.clientHeight,document.documentElement.clientHeight))}var s=null,c="overlay_open";return e.subscribe("open.do.overlay",function(t){s||o(),t&&_fill(t),a()}),e.subscribe("close.do.overlay",i),e.subscribe("appendTo.do.overlay",n),{init:function(){}}});