define(["jquery","chip.dialog","vendor/core/mediator"],function(t,e,n){"use strict";function i(i){var o=e.create();return i.data("dialog",o),t.ajax({url:i.attr("href").replace(".html",".htm"),dataType:"html",success:function(t){n.publish("success.on.ajax"),o.fill(t).open()},error:function(){n.publish("error.on.ajax")},complete:function(){n.publish("complete.on.ajax")}}),o}return{init:function(e){var n=t(e);n.on("click",function(t){t.preventDefault(),(n.data("dialog")||i(n)).open()})}}});