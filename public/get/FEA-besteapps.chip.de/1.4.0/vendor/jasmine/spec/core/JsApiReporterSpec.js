describe("jasmine.jsApiReporter",function(){describe("results",function(){var e,t,n,i,s,a,r,o,c,u;beforeEach(function(){r=new jasmine.Env,r.updateInterval=0,o=r.describe("top-level suite",function(){t=r.it("spec 1",function(){this.expect(!0).toEqual(!0)}),n=r.it("spec 2",function(){this.expect(!0).toEqual(!1)}),c=r.describe("nested suite",function(){u=r.it("nested spec",function(){expect(!0).toEqual(!0)})}),i=r.it("spec 3",function(){this.log("some debug message")})}),e=new jasmine.JsApiReporter,r.addReporter(e),r.execute(),s={messages:t.results().getItems(),result:"passed"},a={messages:n.results().getItems(),result:"failed"}}),it("resultForSpec() should return the result for the given spec",function(){expect(e.resultsForSpec(t.id)).toEqual(s),expect(e.resultsForSpec(n.id)).toEqual(a)}),it("results() should return a hash of all results, indexed by spec id",function(){expect(e.results()[t.id]).toEqual(s),expect(e.results()[n.id]).toEqual(a)}),it("should return nested suites as children of their parents",function(){expect(e.suites()).toEqual([{id:0,name:"top-level suite",type:"suite",children:[{id:0,name:"spec 1",type:"spec",children:[]},{id:1,name:"spec 2",type:"spec",children:[]},{id:1,name:"nested suite",type:"suite",children:[{id:2,name:"nested spec",type:"spec",children:[]}]},{id:3,name:"spec 3",type:"spec",children:[]}]}])}),describe("#summarizeResult_",function(){it("should summarize a passing result",function(){var n=e.results()[t.id],i=e.summarizeResult_(n);expect(i.result).toEqual("passed"),expect(i.messages.length).toEqual(1),expect(i.messages[0].message).toEqual(n.messages[0].message),expect(i.messages[0].passed).toBeTruthy(),expect(i.messages[0].type).toEqual("expect"),expect(i.messages[0].text).toBeUndefined(),expect(i.messages[0].trace.stack).toBeUndefined()}),it("should have a stack trace for failing specs",function(){var t=e.results()[n.id],i=e.summarizeResult_(t);expect(i.result).toEqual("failed"),expect(i.messages[0].trace.stack).toEqual(t.messages[0].trace.stack)}),it("should have messages for specs with messages",function(){var t=e.results()[i.id],n=e.summarizeResult_(t);expect(n.result).toEqual("passed"),expect(n.messages[0].type).toEqual("log"),expect(n.messages[0].text).toEqual("some debug message")})})})});