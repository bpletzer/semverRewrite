var JSHINT=function(){"use strict";function e(){}function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function n(e,n){var i;for(i in n)t(n,i)&&(e[i]=n[i])}function i(){Gt.safe||(Gt.couch&&n(Yt,pn),Gt.rhino&&n(Yt,kn),Gt.node&&n(Yt,wn),Gt.devel&&n(Yt,gn),Gt.browser&&n(Yt,fn),Gt.jquery&&n(Yt,xn),Gt.windows&&n(Yt,Cn),Gt.widget&&n(Yt,Sn))}function r(e,t,n){throw{name:"JSHintError",line:t,character:n,message:e+" ("+Math.floor(100*(t/Ut.length))+"% scanned)."}}function s(e,t,n,i,s,a){var o,l,c;return t=t||Vt,"(end)"===t.id&&(t=rn),l=t.line||0,o=t.from||0,c={id:"(error)",raw:e,evidence:Ut[l-1]||"",line:l,character:o,a:n,b:i,c:s,d:a},c.reason=e.supplant(c),JSHINT.errors.push(c),Gt.passfail&&r("Stopping. ",l,o),an+=1,an>=Gt.maxerr&&r("Too many errors.",l,o),c}function a(e,t,n,i,r,a,o){return s(e,{line:t,from:n},i,r,a,o)}function o(e,t,n,i,a,o){var l=s(e,t,n,i,a,o);r("Stopping, unable to continue.",l.line,l.character)}function l(e,t,n,i,r,s,a){return o(e,{line:t,from:n},i,r,s,a)}function c(e,n){Gt.safe&&Ot["(global)"]&&"boolean"!=typeof Yt[e]?s("ADsafe global: "+e+".",rn):"hasOwnProperty"===e&&s("'hasOwnProperty' is a really bad name."),t(Ot,e)&&!Ot["(global)"]&&s(Ot[e]===!0?"'{a}' was used before it was defined.":"'{a}' is already defined.",Vt,e),Ot[e]=n,Ot["(global)"]?(Rt[e]=Ot,t(Ft,e)&&(s("'{a}' was used before it was defined.",Vt,e),delete Ft[e])):Zt[e]=Ot}function u(){var e,t,n,r,a,l=Vt.value;switch(l){case"*/":o("Unbegun comment.");break;case"/*members":case"/*member":l="/*members",$t||($t={}),t=$t;break;case"/*jshint":Gt.safe&&s("ADsafe restriction."),t=Gt,n=dn;break;case"/*global":Gt.safe&&s("ADsafe restriction."),t=Yt;break;default:o("What?")}r=$n.token();e:for(;;){for(;;){if("special"===r.type&&"*/"===r.value)break e;if("(endline)"!==r.id&&","!==r.id)break;r=$n.token()}"(string)"!==r.type&&"(identifier)"!==r.type&&"/*members"!==l&&o("Bad option.",r),a=$n.token(),":"===a.id?(a=$n.token(),t===$t&&o("Expected '{a}' and instead saw '{b}'.",r,"*/",":"),"indent"===r.value&&"/*jshint"===l?(e=+a.value,("number"!=typeof e||!isFinite(e)||0>=e||Math.floor(e)!==e)&&o("Expected a small integer and instead saw '{a}'.",a,a.value),t.white=!0,t.indent=e):"maxerr"===r.value&&"/*jshint"===l?(e=+a.value,("number"!=typeof e||!isFinite(e)||0>=e||Math.floor(e)!==e)&&o("Expected a small integer and instead saw '{a}'.",a,a.value),t.maxerr=e):"maxlen"===r.value&&"/*jshint"===l?(e=+a.value,("number"!=typeof e||!isFinite(e)||0>=e||Math.floor(e)!==e)&&o("Expected a small integer and instead saw '{a}'.",a,a.value),t.maxlen=e):"true"===a.value?t[r.value]=!0:"false"===a.value?t[r.value]=!1:o("Bad option value.",a),r=$n.token()):("/*jshint"===l&&o("Missing option value.",r),t[r.value]=!1,r=a)}n&&i()}function d(e){for(var t,n=e||0,i=0;n>=i;)t=zt[i],t||(t=zt[i]=$n.token()),i+=1;return t}function f(e,t){switch(rn.id){case"(number)":"."===Vt.id&&s("A dot following a number can be confused with a decimal point.",rn);break;case"-":("-"===Vt.id||"--"===Vt.id)&&s("Confusing minusses.");break;case"+":("+"===Vt.id||"++"===Vt.id)&&s("Confusing plusses.")}for(("(string)"===rn.type||rn.identifier)&&(St=rn.value),e&&Vt.id!==e&&(t?"(end)"===Vt.id?s("Unmatched '{a}'.",t,t.id):s("Expected '{a}' to match '{b}' from line {c} and instead saw '{d}'.",Vt,e,t.id,t.line,Vt.value):("(identifier)"!==Vt.type||Vt.value!==e)&&s("Expected '{a}' and instead saw '{b}'.",Vt,e,Vt.value)),Jt=rn,rn=Vt;;){if(Vt=zt.shift()||$n.token(),"(end)"===Vt.id||"(error)"===Vt.id)return;if("special"===Vt.type)u();else if("(endline)"!==Vt.id)break}}function p(e,t){var n;if("(end)"===Vt.id&&o("Unexpected early end of program.",rn),f(),Gt.safe&&"boolean"==typeof Yt[rn.value]&&"("!==Vt.id&&"."!==Vt.id&&s("ADsafe violation.",rn),t&&(St="anonymous",Ot["(verb)"]=rn.value),t===!0&&rn.fud)n=rn.fud();else{if(rn.nud)n=rn.nud();else{if("(number)"===Vt.type&&"."===rn.id)return s("A leading decimal point can be confused with a dot: '.{a}'.",rn,Vt.value),f(),rn;o("Expected an identifier and instead saw '{a}'.",rn,rn.id)}for(;Vt.lbp>e;)f(),rn.led?n=rn.led(n):o("Expected an operator and instead saw '{a}'.",rn,rn.id)}return n}function h(e,t){e=e||rn,t=t||Vt,(Gt.white||"styleproperty"===on||"style"===on)&&e.character!==t.from&&e.line===t.line&&s("Unexpected space after '{a}'.",t,e.value)}function m(e,t){e=e||rn,t=t||Vt,!Gt.white||e.character===t.from&&e.line===t.line||s("Unexpected space before '{a}'.",t,t.value)}function g(e,t){e=e||rn,t=t||Vt,Gt.white&&!e.comment&&e.line===t.line&&h(e,t)}function v(e,t){Gt.white&&(e=e||rn,t=t||Vt,e.line===t.line&&e.character===t.from&&s("Missing space after '{a}'.",Vt,e.value))}function y(e,t){e=e||rn,t=t||Vt,Gt.laxbreak||e.line===t.line?Gt.white&&(e=e||rn,t=t||Vt,e.character===t.from&&s("Missing space after '{a}'.",Vt,e.value)):s("Bad line breaking before '{a}'.",t,t.id)}function b(e){var t;Gt.white&&"(end)"!==Vt.id&&(t=Pt+(e||0),Vt.from!==t&&s("Expected '{a}' to have an indentation at {b} instead at {c}.",Vt,Vt.value,t,Vt.from))}function x(e){e=e||rn,e.line!==Vt.line&&s("Line breaking error '{a}'.",e,e.value)}function w(){rn.line!==Vt.line?Gt.laxbreak||s("Bad line breaking before '{a}'.",rn,Vt.id):rn.character!==Vt.from&&Gt.white&&s("Unexpected space after '{a}'.",Vt,rn.value),f(","),v(rn,Vt)}function k(e,t){var n=En[e];return n&&"object"==typeof n||(En[e]=n={id:e,lbp:t,value:e}),n}function j(e){return k(e,0)}function _(e,t){var n=j(e);return n.identifier=n.reserved=!0,n.fud=t,n}function E(e,t){var n=_(e,t);return n.block=!0,n}function S(e){var t=e.id.charAt(0);return(t>="a"&&"z">=t||t>="A"&&"Z">=t)&&(e.identifier=e.reserved=!0),e}function C(e,t){var n=k(e,150);return S(n),n.nud="function"==typeof t?t:function(){return this.right=p(150),this.arity="unary",("++"===this.id||"--"===this.id)&&(Gt.plusplus?s("Unexpected use of '{a}'.",this,this.id):this.right.identifier&&!this.right.reserved||"."===this.right.id||"["===this.right.id||s("Bad operand.",this)),this},n}function T(e,t){var n=j(e);return n.type=e,n.nud=t,n}function A(e,t){var n=T(e,t);return n.identifier=n.reserved=!0,n}function N(e,t){return A(e,function(){return"function"==typeof t&&t(this),this})}function q(e,t,n,i){var r=k(e,n);return S(r),r.led=function(e){return i||(y(Jt,rn),v(rn,Vt)),"function"==typeof t?t(e,this):(this.left=e,this.right=p(n),this)},r}function M(e,t){var n=k(e,100);return n.led=function(e){y(Jt,rn),v(rn,Vt);var n=p(100);return e&&"NaN"===e.id||n&&"NaN"===n.id?s("Use the isNaN function to compare with NaN.",this):t&&t.apply(this,[e,n]),"!"===e.id&&s("Confusing use of '{a}'.",e,"!"),"!"===n.id&&s("Confusing use of '{a}'.",e,"!"),this.left=e,this.right=n,this},n}function D(e){return e&&("(number)"===e.type&&0===+e.value||"(string)"===e.type&&""===e.value||"null"===e.type&&!Gt.boss||"true"===e.type||"false"===e.type||"undefined"===e.type)}function O(e){return k(e,20).exps=!0,q(e,function(e,t){var n;if(t.left=e,Yt[e.value]===!1&&Zt[e.value]["(global)"]===!0?s("Read only.",e):e["function"]&&s("'{a}' is a function.",e,e.value),Gt.safe){n=e;do"boolean"==typeof Yt[n.value]&&s("ADsafe violation.",n),n=n.left;while(n)}if(e){if("."===e.id||"["===e.id)return e.left&&"arguments"!==e.left.value||s("Bad assignment.",t),t.right=p(19),t;if(e.identifier&&!e.reserved)return"exception"===Ot[e.value]&&s("Do not assign to the exception parameter.",e),t.right=p(19),t;e===En["function"]&&s("Expected an identifier in an assignment and instead saw a function invocation.",rn)}o("Bad assignment.",t)},20)}function I(e,t,n){var i=k(e,n);return S(i),i.led="function"==typeof t?t:function(e){return Gt.bitwise&&s("Unexpected use of '{a}'.",this,this.id),this.left=e,this.right=p(n),this},i}function R(e){return k(e,20).exps=!0,q(e,function(e,t){return Gt.bitwise&&s("Unexpected use of '{a}'.",t,t.id),v(Jt,rn),v(rn,Vt),e?"."===e.id||"["===e.id||e.identifier&&!e.reserved?(p(19),t):(e===En["function"]&&s("Expected an identifier in an assignment, and instead saw a function invocation.",rn),t):(o("Bad assignment.",t),void 0)},20)}function L(e){var t=k(e,150);return t.led=function(e){return Gt.plusplus?s("Unexpected use of '{a}'.",this,this.id):e.identifier&&!e.reserved||"."===e.id||"["===e.id||s("Bad operand.",this),this.left=e,this},t}function F(e){return Vt.identifier?(f(),Gt.safe&&un[rn.value]?s("ADsafe violation: '{a}'.",rn,rn.value):rn.reserved&&!Gt.es5&&(e&&"undefined"==rn.value||s("Expected an identifier and instead saw '{a}' (a reserved word).",rn,rn.id)),rn.value):void 0}function B(e){var t=F(e);return t?t:("function"===rn.id&&"("===Vt.id?s("Missing name in function statement."):o("Expected an identifier and instead saw '{a}'.",Vt,Vt.value),void 0)}function P(e){var t,n=0;if(";"===Vt.id&&!Xt)for(;;){if(t=d(n),t.reach)return;if("(endline)"!==t.id){if("function"===t.id){s("Inner functions should be listed at the top of the outer function.",t);break}s("Unreachable '{a}' after '{b}'.",t,t.value,e);break}n+=1}}function H(e){var t,n=Pt,i=Zt,r=Vt;return";"===r.id?(s("Unnecessary semicolon.",r),f(";"),void 0):(r.identifier&&!r.reserved&&":"===d().id&&(f(),f(":"),Zt=Object.create(i),c(r.value,"label"),Vt.labelled||s("Label '{a}' on {b} statement.",Vt,r.value,Vt.value),Ln.test(r.value+":")&&s("Label '{a}' looks like a javascript url.",r,r.value),Vt.label=r.value,r=Vt),e||b(),t=p(0,!0),r.block||(t&&t.exps?Gt.nonew&&"("===t.id&&"new"===t.left.id&&s("Do not use 'new' for side effects."):s("Expected an assignment or function call and instead saw an expression.",rn),";"!==Vt.id?Gt.asi||a("Missing semicolon.",rn.line,rn.from+rn.value.length):(h(rn,Vt),f(";"),v(rn,Vt))),Pt=n,Zt=i,t)}function U(){return"use strict"===Vt.value?(tn&&s('Unnecessary "use strict".'),f(),f(";"),tn=!0,Gt.newcap=!0,Gt.undef=!0,!0):!1}function z(e){var t,n,i=[];if(Gt.adsafe)switch(e){case"script":_t||("ADSAFE"!==Vt.value||"."!==d(0).id||"id"!==d(1).value&&"go"!==d(1).value)&&o("ADsafe violation: Missing ADSAFE.id or ADSAFE.go.",Vt),"ADSAFE"===Vt.value&&"."===d(0).id&&"id"===d(1).value&&(_t&&o("ADsafe violation.",Vt),f("ADSAFE"),f("."),f("id"),f("("),Vt.value!==jt&&o("ADsafe violation: id does not match.",Vt),f("(string)"),f(")"),f(";"),_t=!0);break;case"lib":if("ADSAFE"===Vt.value)return f("ADSAFE"),f("."),f("lib"),f("("),f("(string)"),w(),t=p(0),"function"!==t.id&&o("The second argument to lib must be a function.",t),n=t.funct["(params)"],n=n&&n.join(", "),n&&"lib"!==n&&o("Expected '{a}' and instead saw '{b}'.",t,"(lib)","("+n+")"),f(")"),f(";"),i;o("ADsafe lib violation.")}for(;!Vt.reach&&"(end)"!==Vt.id;)";"===Vt.id?(s("Unnecessary semicolon."),f(";")):i.push(H());return i}function W(e,t){var n,i,r=Bt,a=Pt,l=tn,c=Zt;if(Bt=e,Zt=Object.create(Zt),v(rn,Vt),i=Vt,"{"===Vt.id){if(f("{"),"}"!==Vt.id||rn.line!==Vt.line){for(Pt+=Gt.indent;!e&&Vt.from>Pt;)Pt+=Gt.indent;e||U()||l||!Gt.strict||!Ot["(context)"]["(global)"]||s('Missing "use strict" statement.'),n=z(),tn=l,Pt-=Gt.indent,b()}f("}",i),Pt=a}else e?((!t||Gt.curly)&&s("Expected '{a}' and instead saw '{b}'.",Vt,"{",Vt.value),Xt=!0,n=[H()],Xt=!1):o("Expected '{a}' and instead saw '{b}'.",Vt,"{",Vt.value);return Ot["(verb)"]=null,Zt=c,Bt=r,!e||!Gt.noempty||n&&0!==n.length||s("Empty block."),n}function $(e){$t&&"boolean"!=typeof $t[e]&&s("Unexpected /*member '{a}'.",rn,e),"number"==typeof Wt[e]?Wt[e]+=1:Wt[e]=1}function V(e){var t=e.value,n=e.line,i=Ft[t];"function"==typeof i&&(i=!1),i?i[i.length-1]!==n&&i.push(n):(i=[n],Ft[t]=i)}function X(){return Vt.identifier?(f(),!0):void 0}function G(){return"-"===Vt.id&&(f("-"),h(),x()),"(number)"===Vt.type?(f("(number)"),!0):void 0}function Y(){return"(string)"===Vt.type?(f(),!0):void 0}function Q(){var e,t,n;if(Vt.identifier){if(n=Vt.value,"rgb"===n||"rgba"===n){for(f(),f("("),e=0;3>e;e+=1)e&&f(","),t=Vt.value,"(number)"!==Vt.type||0>t?(s("Expected a positive number and instead saw '{a}'",Vt,t),f()):(f(),"%"===Vt.id?(f("%"),t>100&&s("Expected a percentage and instead saw '{a}'",rn,t)):t>255&&s("Expected a small number and instead saw '{a}'",rn,t));return"rgba"===n&&(f(","),t=+Vt.value,("(number)"!==Vt.type||0>t||t>1)&&s("Expected a number between 0 and 1 and instead saw '{a}'",Vt,t),f(),"%"===Vt.id&&(s("Unexpected '%'."),f("%"))),f(")"),!0}if(hn[Vt.value]===!0)return f(),!0}else if("(color)"===Vt.type)return f(),!0;return!1}function J(){return"-"===Vt.id&&(f("-"),h(),x()),"(number)"===Vt.type?(f(),"(string)"!==Vt.type&&mn[Vt.value]===!0?(h(),f()):0!==+rn.value&&s("Expected a linear unit and instead saw '{a}'.",Vt,Vt.value),!0):!1}function Z(){return"-"===Vt.id&&(f("-"),h()),"(number)"===Vt.type?(f(),"(string)"!==Vt.type&&mn[Vt.value]===!0&&(h(),f()),!0):!1}function K(){if(!Vt.identifier)return J();switch(Vt.value){case"thin":case"medium":case"thick":return f(),!0}}function et(){return Vt.identifier?"auto"===Vt.value?(f(),!0):void 0:J()}function tt(){return Vt.identifier&&"attr"===Vt.value?(f(),f("("),Vt.identifier||s("Expected a name and instead saw '{a}'.",Vt,Vt.value),f(),f(")"),!0):!1}function nt(){for(;";"!==Vt.id;){if(X()||Y()||s("Expected a name and instead saw '{a}'.",Vt,Vt.value),","!==Vt.id)return!0;w()}}function it(){return Vt.identifier&&"counter"===Vt.value?(f(),f("("),f(),","===Vt.id&&(w(),"(string)"!==Vt.type&&s("Expected a string and instead saw '{a}'.",Vt,Vt.value),f()),f(")"),!0):Vt.identifier&&"counters"===Vt.value?(f(),f("("),Vt.identifier||s("Expected a name and instead saw '{a}'.",Vt,Vt.value),f(),","===Vt.id&&(w(),"(string)"!==Vt.type&&s("Expected a string and instead saw '{a}'.",Vt,Vt.value),f()),","===Vt.id&&(w(),"(string)"!==Vt.type&&s("Expected a string and instead saw '{a}'.",Vt,Vt.value),f()),f(")"),!0):!1}function rt(){var e;if(Vt.identifier&&"rect"===Vt.value){for(f(),f("("),e=0;4>e;e+=1)if(!J()){s("Expected a number and instead saw '{a}'.",Vt,Vt.value);break}return f(")"),!0}return!1}function st(){var e,t;return Vt.identifier&&"url"===Vt.value?(Vt=$n.range("(",")"),t=Vt.value,e=t.charAt(0),('"'===e||"'"===e)&&(t.slice(-1)!==e?s("Bad url string."):(t=t.slice(1,-1),t.indexOf(e)>=0&&s("Bad url string."))),t||s("Missing url."),f(),Gt.safe&&Fn.test(t)&&o("ADsafe URL violation."),sn.push(t),!0):!1}function at(){for(var e;"*"===Vt.id||"#"===Vt.id||"_"===Vt.value;)Gt.css||s("Unexpected '{a}'.",Vt,Vt.value),f();return"-"===Vt.id?(Gt.css||s("Unexpected '{a}'.",Vt,Vt.value),f("-"),Vt.identifier||s("Expected a non-standard style attribute and instead saw '{a}'.",Vt,Vt.value),f(),At):(Vt.identifier?t(Tt,Vt.value)?e=Tt[Vt.value]:(e=At,Gt.css||s("Unrecognized style attribute '{a}'.",Vt,Vt.value)):s("Excepted a style attribute, and instead saw '{a}'.",Vt,Vt.value),f(),e)}function ot(e){var t,n,i,r,s,a=0,o=0;switch(typeof e){case"function":return e();case"string":return Vt.identifier&&Vt.value===e?(f(),!0):!1}for(;;){if(a>=e.length)return!1;if(s=e[a],a+=1,s===!0)break;for("number"==typeof s?(t=s,s=e[a],a+=1):t=1,i=!1;t>0&&ot(s);)i=!0,t-=1;if(i)return!0}for(o=a,n=[];;){for(r=!1,a=o;e.length>a;a+=1)if(!n[a]&&ot(Tt[e[a]])){i=!0,r=!0,n[a]=!0;break}if(!r)return i}}function lt(){if("(number)"===Vt.id)return f(),"n"===Vt.value&&Vt.identifier&&(h(),f(),"+"===Vt.id&&(h(),f("+"),h(),f("(number)"))),void 0;switch(Vt.value){case"odd":case"even":if(Vt.identifier)return f(),void 0}s("Unexpected token '{a}'.",Vt,Vt.value)}function ct(){for(var e;;){if("}"===Vt.id||"(end)"===Vt.id||ln&&Vt.id===ln)return;for(;";"===Vt.id;)s("Misplaced ';'."),f(";");e=at(),f(":"),Vt.identifier&&"inherit"===Vt.value?f():ot(e)||(s("Unexpected token '{a}'.",Vt,Vt.value),f()),"!"===Vt.id&&(f("!"),h(),Vt.identifier&&"important"===Vt.value?f():s("Expected '{a}' and instead saw '{b}'.",Vt,"important",Vt.value)),"}"===Vt.id||Vt.id===ln?s("Missing '{a}'.",Vt,";"):f(";")}}function ut(){if(Vt.identifier)t(bn,Gt.cap?Vt.value.toLowerCase():Vt.value)||s("Expected a tagName, and instead saw {a}.",Vt,Vt.value),f();else switch(Vt.id){case">":case"+":f(),ut();break;case":":switch(f(":"),Vt.value){case"active":case"after":case"before":case"checked":case"disabled":case"empty":case"enabled":case"first-child":case"first-letter":case"first-line":case"first-of-type":case"focus":case"hover":case"last-child":case"last-of-type":case"link":case"only-of-type":case"root":case"target":case"visited":f();break;case"lang":f(),f("("),Vt.identifier||s("Expected a lang code, and instead saw :{a}.",Vt,Vt.value),f(")");break;case"nth-child":case"nth-last-child":case"nth-last-of-type":case"nth-of-type":f(),f("("),lt(),f(")");break;case"not":f(),f("("),":"===Vt.id&&"not"===d(0).value&&s("Nested not."),ut(),f(")");break;default:s("Expected a pseudo, and instead saw :{a}.",Vt,Vt.value)}break;case"#":f("#"),Vt.identifier||s("Expected an id, and instead saw #{a}.",Vt,Vt.value),f();break;case"*":f("*");break;case".":f("."),Vt.identifier||s("Expected a class, and instead saw #.{a}.",Vt,Vt.value),f();break;case"[":f("["),Vt.identifier||s("Expected an attribute, and instead saw [{a}].",Vt,Vt.value),f(),("="===Vt.id||"~="===Vt.value||"$="===Vt.value||"|="===Vt.value||"*="===Vt.id||"^="===Vt.id)&&(f(),"(string)"!==Vt.type&&s("Expected a string, and instead saw {a}.",Vt,Vt.value),f()),f("]");break;default:o("Expected a CSS selector, and instead saw {a}.",Vt,Vt.value)}}function dt(){for("{"===Vt.id&&s("Expected a style pattern, and instead saw '{a}'.",Vt,Vt.id);;){if(ut(),"</"===Vt.id||"{"===Vt.id||"(end)"===Vt.id)return"";","===Vt.id&&w()}}function ft(){for(;"</"!==Vt.id&&"(end)"!==Vt.id;)dt(),on="styleproperty",";"===Vt.id?f(";"):(f("{"),ct(),on="style",f("}"))}function pt(){for(var e;"@"===Vt.id;)if(e=d(),f("@"),Vt.identifier)switch(Vt.value){case"import":f(),st()||(s("Expected '{a}' and instead saw '{b}'.",Vt,"url",Vt.value),f()),f(";");break;case"media":for(f();Vt.identifier&&Mt[Vt.value]!==!0||o("Expected a CSS media type, and instead saw '{a}'.",Vt,Vt.id),f(),","===Vt.id;)f(",");f("{"),ft(),f("}");break;default:s("Expected an at-rule, and instead saw @{a}.",Vt,Vt.value)}else s("Expected an at-rule, and instead saw '{a}'.",Vt,Vt.value);ft()}function ht(e){"html"===e||Gt.fragment||("div"===e&&Gt.adsafe?o("ADSAFE: Use the fragment option."):o("Expected '{a}' and instead saw '{b}'.",rn,"html",e)),Gt.adsafe&&("html"===e&&o("Currently, ADsafe does not operate on whole HTML documents. It operates on <div> fragments and .js files.",rn),Gt.fragment?"div"!==e&&o("ADsafe violation: Wrap the widget in a div.",rn):o("Use the fragment option.",rn)),Gt.browser=!0,i()}function mt(e,t,n){var i,r;"id"===t?(i="string"==typeof n?n.toUpperCase():"",Lt[i]===!0&&s("Duplicate id='{a}'.",Vt,n),/^[A-Za-z][A-Za-z0-9._:\-]*$/.test(n)?Gt.adsafe&&(jt?n.slice(0,jt.length)!==jt?s("ADsafe violation: An id must have a '{a}' prefix",Vt,jt):/^[A-Z]+_[A-Z]+$/.test(n)||s("ADSAFE violation: bad id."):(jt=n,/^[A-Z]+_$/.test(n)||s("ADSAFE violation: bad id."))):s("Bad id: '{a}'.",Vt,n),r=n.search(Un),r>=0&&s("Unexpected character '{a}' in {b}.",rn,n.charAt(r),t),Lt[i]=!0):"class"===t||"type"===t||"name"===t?(r=n.search(Hn),r>=0&&s("Unexpected character '{a}' in {b}.",rn,n.charAt(r),t),Lt[i]=!0):"href"===t||"background"===t||"content"===t||"data"===t||t.indexOf("src")>=0||t.indexOf("url")>=0?(Gt.safe&&Fn.test(n)&&o("ADsafe URL violation."),sn.push(n)):"for"===t?Gt.adsafe&&(jt?n.slice(0,jt.length)!==jt?s("ADsafe violation: An id must have a '{a}' prefix",Vt,jt):/^[A-Z]+_[A-Z]+$/.test(n)||s("ADSAFE violation: bad id."):s("ADSAFE violation: bad id.")):"name"===t&&Gt.adsafe&&n.indexOf("_")>=0&&s("ADsafe name violation.")}function gt(e,t){var n,i,r=bn[e];if(Kt=!1,r||o("Unrecognized tag '<{a}>'.",Vt,e===e.toLowerCase()?e:e+" (capitalization error)"),en.length>0)if("html"===e&&o("Too many <html> tags.",rn),i=r.parent)0>i.indexOf(" "+en[en.length-1].name+" ")&&o("A '<{a}>' must be within '<{b}>'.",rn,e,i);else if(!Gt.adsafe&&!Gt.fragment){n=en.length;do 0>=n&&o("A '<{a}>' must be within '<{b}>'.",rn,e,"body"),n-=1;while("body"!==en[n].name)}switch(e){case"div":Gt.adsafe&&1===en.length&&!jt&&s("ADSAFE violation: missing ID_.");break;case"script":on="script",f(">"),Pt=Vt.from,t.lang&&s("lang is deprecated.",rn),Gt.adsafe&&1!==en.length&&s("ADsafe script placement violation.",rn),t.src?(!Gt.adsafe||_t&&Ct[t.src]||s("ADsafe unapproved script source.",rn),t.type&&s("type is unnecessary.",rn)):(Et&&o("ADsafe script violation.",rn),U(),z("script")),on="html",f("</"),Vt.identifier||"script"===Vt.value||s("Expected '{a}' and instead saw '{b}'.",Vt,"script",Vt.value),f(),on="outer";break;case"style":on="style",f(">"),pt(),on="html",f("</"),Vt.identifier||"style"===Vt.value||s("Expected '{a}' and instead saw '{b}'.",Vt,"style",Vt.value),f(),on="outer";break;case"input":switch(t.type){case"radio":case"checkbox":case"button":case"reset":case"submit":break;case"text":case"file":case"password":case"file":case"hidden":case"image":Gt.adsafe&&"off"!==t.autocomplete&&s("ADsafe autocomplete violation.");break;default:s("Bad input type.")}break;case"applet":case"body":case"embed":case"frame":case"frameset":case"head":case"iframe":case"noembed":case"noframes":case"object":case"param":Gt.adsafe&&s("ADsafe violation: Disallowed tag: "+e)}}function vt(e){return"</"+e+">"}function yt(){var e,n,i,r,a,l,c,u,d=Gt.white;for(on="html",ln="",en=null;;){switch(Vt.value){case"<":for(on="html",f("<"),n={},l=Vt,l.identifier||s("Bad identifier {a}.",l,l.value),r=l.value,Gt.cap&&(r=r.toLowerCase()),l.name=r,f(),en||(en=[],ht(r)),c=bn[r],"object"!=typeof c&&o("Unrecognized tag '<{a}>'.",l,r),i=c.empty,l.type=r;;){if("/"===Vt.id){f("/"),">"!==Vt.id&&s("Expected '{a}' and instead saw '{b}'.",Vt,">",Vt.value);break}if(Vt.id&&">"===Vt.id.substr(0,1))break;Vt.identifier||(("(end)"===Vt.id||"(error)"===Vt.id)&&o("Missing '>'.",Vt),s("Bad identifier.")),Gt.white=!0,v(rn,Vt),e=Vt.value,Gt.white=d,f(),Gt.cap||e===e.toLowerCase()||s("Attribute '{a}' not all lower case.",Vt,e),e=e.toLowerCase(),ln="",t(n,e)&&s("Attribute '{a}' repeated.",Vt,e),"on"===e.slice(0,2)?(Gt.on||s("Avoid HTML event handlers."),on="scriptstring",f("="),a=Vt.id,'"'!==a&&"'"!==a&&o("Missing quote."),ln=a,u=Gt.white,Gt.white=!1,f(a),U(),z("on"),Gt.white=u,Vt.id!==a&&o("Missing close quote on script attribute."),on="html",ln="",f(a),c=!1):"style"===e?(on="scriptstring",f("="),a=Vt.id,'"'!==a&&"'"!==a&&o("Missing quote."),on="styleproperty",ln=a,f(a),ct(),on="html",ln="",f(a),c=!1):"="===Vt.id?(f("="),c=Vt.value,Vt.identifier||'"'===Vt.id||"'"===Vt.id||"(string)"===Vt.type||"(number)"===Vt.type||"(color)"===Vt.type||s("Expected an attribute value and instead saw '{a}'.",rn,e),f()):c=!0,n[e]=c,mt(r,e,c)}gt(r,n),i||en.push(l),on="outer",f(">");break;case"</":on="html",f("</"),Vt.identifier||s("Bad identifier."),r=Vt.value,Gt.cap&&(r=r.toLowerCase()),f(),en||o("Unexpected '{a}'.",Vt,vt(r)),l=en.pop(),l||o("Unexpected '{a}'.",Vt,vt(r)),l.name!==r&&o("Expected '{a}' and instead saw '{b}'.",Vt,vt(l.name),vt(r)),">"!==Vt.id&&o("Missing '{a}'.",Vt,">"),on="outer",f(">");break;case"<!":for(Gt.safe&&s("ADsafe HTML violation."),on="html";f(),">"!==Vt.id&&"(end)"!==Vt.id;)Vt.value.indexOf("--")>=0&&o("Unexpected --."),Vt.value.indexOf("<")>=0&&o("Unexpected <."),Vt.value.indexOf(">")>=0&&o("Unexpected >.");on="outer",f(">");break;case"(end)":return;default:"(end)"===Vt.id?o("Missing '{a}'.",Vt,"</"+en[en.length-1].value+">"):f()}if(en&&0===en.length&&(Gt.adsafe||!Gt.fragment||"(end)"===Vt.id))break}"(end)"!==Vt.id&&o("Unexpected material after the end.")}function bt(){var e=F(!0);return e||("(string)"===Vt.id?(e=Vt.value,!Gt.adsafe||"_"!==e.charAt(0)&&"_"!==e.charAt(e.length-1)||s("Unexpected {a} in '{b}'.",rn,"dangling '_'",e),f()):"(number)"===Vt.id&&(e=""+Vt.value,f())),e}function xt(){var e,t=Vt,n=[];if(f("("),g(),")"===Vt.id)return f(")"),g(Jt,rn),void 0;for(;;){if(e=B(!0),n.push(e),c(e,"parameter"),","!==Vt.id)return f(")",t),g(Jt,rn),n;w()}}function wt(e,t){var n,i=Zt;return Zt=Object.create(i),Ot={"(name)":e||'"'+St+'"',"(line)":Vt.line,"(context)":Ot,"(breakage)":0,"(loopage)":0,"(scope)":Zt,"(statement)":t},n=Ot,rn.funct=Ot,It.push(Ot),e&&c(e,"function"),Ot["(params)"]=xt(),W(!1),Zt=i,Ot["(last)"]=rn.line,Ot=Ot["(context)"],n}function kt(){function e(){var e={},t=Vt;if(f("{"),"}"!==Vt.id)for(;;){if("(end)"===Vt.id)o("Missing '}' to match '{' from line {a}.",Vt,t.line);else{if("}"===Vt.id){s("Unexpected comma.",rn);break}","===Vt.id?o("Unexpected comma.",Vt):"(string)"!==Vt.id&&s("Expected a string and instead saw {a}.",Vt,Vt.value)}if(e[Vt.value]===!0?s("Duplicate key '{a}'.",Vt,Vt.value):"__proto__"===Vt.value?s("Stupid key '{a}'.",Vt,Vt.value):e[Vt.value]=!0,f(),f(":"),kt(),","!==Vt.id)break;f(",")}f("}")}function t(){var e=Vt;if(f("["),"]"!==Vt.id)for(;;){if("(end)"===Vt.id)o("Missing ']' to match '[' from line {a}.",Vt,e.line);else{if("]"===Vt.id){s("Unexpected comma.",rn);break}","===Vt.id&&o("Unexpected comma.",Vt)}if(kt(),","!==Vt.id)break;f(",")}f("]")}switch(Vt.id){case"{":e();break;case"[":t();break;case"true":case"false":case"null":case"(number)":case"(string)":f();break;case"-":f("-"),rn.character!==Vt.from&&s("Unexpected space after '-'.",rn),h(rn,Vt),f("(number)");break;default:o("Expected a JSON value.",Vt)}}var jt,_t,Et,St,Ct,Tt,At,Nt,qt,Mt,Dt,Ot,It,Rt,Lt,Ft,Bt,Pt,Ht,Ut,zt,Wt,$t,Vt,Xt,Gt,Yt,Qt,Jt,Zt,Kt,en,tn,nn,rn,sn,an,on,ln,cn={"<":!0,"<=":!0,"==":!0,"===":!0,"!==":!0,"!=":!0,">":!0,">=":!0,"+":!0,"-":!0,"*":!0,"/":!0,"%":!0},un={arguments:!0,callee:!0,caller:!0,constructor:!0,eval:!0,prototype:!0,stack:!0,unwatch:!0,valueOf:!0,watch:!0},dn={adsafe:!0,asi:!0,bitwise:!0,boss:!0,browser:!0,cap:!0,couch:!0,css:!0,curly:!0,debug:!0,devel:!0,eqeqeq:!0,es5:!0,evil:!0,forin:!0,fragment:!0,immed:!0,jquery:!0,laxbreak:!0,loopfunc:!0,newcap:!0,noarg:!0,node:!0,noempty:!0,nonew:!0,nomen:!0,on:!0,onevar:!0,passfail:!0,plusplus:!0,regexp:!0,rhino:!0,undef:!0,safe:!0,windows:!0,strict:!0,sub:!0,white:!0,widget:!0},fn={addEventListener:!1,applicationCache:!1,blur:!1,clearInterval:!1,clearTimeout:!1,close:!1,closed:!1,defaultStatus:!1,document:!1,event:!1,FileReader:!1,focus:!1,frames:!1,getComputedStyle:!1,history:!1,Image:!1,length:!1,localStorage:!1,location:!1,moveBy:!1,moveTo:!1,name:!1,navigator:!1,onbeforeunload:!0,onblur:!0,onerror:!0,onfocus:!0,onload:!0,onresize:!0,onunload:!0,open:!1,openDatabase:!1,opener:!1,Option:!1,parent:!1,print:!1,removeEventListener:!1,resizeBy:!1,resizeTo:!1,screen:!1,scroll:!1,scrollBy:!1,scrollTo:!1,setInterval:!1,setTimeout:!1,status:!1,top:!1,WebSocket:!1,window:!1,Worker:!1,XMLHttpRequest:!1},pn={require:!1,respond:!1,getRow:!1,emit:!1,send:!1,start:!1,sum:!1,log:!1,exports:!1,module:!1},hn={aliceblue:!0,antiquewhite:!0,aqua:!0,aquamarine:!0,azure:!0,beige:!0,bisque:!0,black:!0,blanchedalmond:!0,blue:!0,blueviolet:!0,brown:!0,burlywood:!0,cadetblue:!0,chartreuse:!0,chocolate:!0,coral:!0,cornflowerblue:!0,cornsilk:!0,crimson:!0,cyan:!0,darkblue:!0,darkcyan:!0,darkgoldenrod:!0,darkgray:!0,darkgreen:!0,darkkhaki:!0,darkmagenta:!0,darkolivegreen:!0,darkorange:!0,darkorchid:!0,darkred:!0,darksalmon:!0,darkseagreen:!0,darkslateblue:!0,darkslategray:!0,darkturquoise:!0,darkviolet:!0,deeppink:!0,deepskyblue:!0,dimgray:!0,dodgerblue:!0,firebrick:!0,floralwhite:!0,forestgreen:!0,fuchsia:!0,gainsboro:!0,ghostwhite:!0,gold:!0,goldenrod:!0,gray:!0,green:!0,greenyellow:!0,honeydew:!0,hotpink:!0,indianred:!0,indigo:!0,ivory:!0,khaki:!0,lavender:!0,lavenderblush:!0,lawngreen:!0,lemonchiffon:!0,lightblue:!0,lightcoral:!0,lightcyan:!0,lightgoldenrodyellow:!0,lightgreen:!0,lightpink:!0,lightsalmon:!0,lightseagreen:!0,lightskyblue:!0,lightslategray:!0,lightsteelblue:!0,lightyellow:!0,lime:!0,limegreen:!0,linen:!0,magenta:!0,maroon:!0,mediumaquamarine:!0,mediumblue:!0,mediumorchid:!0,mediumpurple:!0,mediumseagreen:!0,mediumslateblue:!0,mediumspringgreen:!0,mediumturquoise:!0,mediumvioletred:!0,midnightblue:!0,mintcream:!0,mistyrose:!0,moccasin:!0,navajowhite:!0,navy:!0,oldlace:!0,olive:!0,olivedrab:!0,orange:!0,orangered:!0,orchid:!0,palegoldenrod:!0,palegreen:!0,paleturquoise:!0,palevioletred:!0,papayawhip:!0,peachpuff:!0,peru:!0,pink:!0,plum:!0,powderblue:!0,purple:!0,red:!0,rosybrown:!0,royalblue:!0,saddlebrown:!0,salmon:!0,sandybrown:!0,seagreen:!0,seashell:!0,sienna:!0,silver:!0,skyblue:!0,slateblue:!0,slategray:!0,snow:!0,springgreen:!0,steelblue:!0,tan:!0,teal:!0,thistle:!0,tomato:!0,turquoise:!0,violet:!0,wheat:!0,white:!0,whitesmoke:!0,yellow:!0,yellowgreen:!0,activeborder:!0,activecaption:!0,appworkspace:!0,background:!0,buttonface:!0,buttonhighlight:!0,buttonshadow:!0,buttontext:!0,captiontext:!0,graytext:!0,highlight:!0,highlighttext:!0,inactiveborder:!0,inactivecaption:!0,inactivecaptiontext:!0,infobackground:!0,infotext:!0,menu:!0,menutext:!0,scrollbar:!0,threeddarkshadow:!0,threedface:!0,threedhighlight:!0,threedlightshadow:!0,threedshadow:!0,window:!0,windowframe:!0,windowtext:!0},mn={"%":!0,cm:!0,em:!0,ex:!0,"in":!0,mm:!0,pc:!0,pt:!0,px:!0},gn={alert:!1,confirm:!1,console:!1,Debug:!1,opera:!1,prompt:!1},vn={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"/":"\\/","\\":"\\\\"},yn=["closure","exception","global","label","outer","unused","var"],bn={a:{},abbr:{},acronym:{},address:{},applet:{},area:{empty:!0,parent:" map "},article:{},aside:{},audio:{},b:{},base:{empty:!0,parent:" head "},bdo:{},big:{},blockquote:{},body:{parent:" html noframes "},br:{empty:!0},button:{},canvas:{parent:" body p div th td "},caption:{parent:" table "},center:{},cite:{},code:{},col:{empty:!0,parent:" table colgroup "},colgroup:{parent:" table "},command:{parent:" menu "},datalist:{},dd:{parent:" dl "},del:{},details:{},dialog:{},dfn:{},dir:{},div:{},dl:{},dt:{parent:" dl "},em:{},embed:{},fieldset:{},figure:{},font:{},footer:{},form:{},frame:{empty:!0,parent:" frameset "},frameset:{parent:" html frameset "},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},head:{parent:" html "},header:{},hgroup:{},hr:{empty:!0},"hta:application":{empty:!0,parent:" head "},html:{parent:"*"},i:{},iframe:{},img:{empty:!0},input:{empty:!0},ins:{},kbd:{},keygen:{},label:{},legend:{parent:" details fieldset figure "},li:{parent:" dir menu ol ul "},link:{empty:!0,parent:" head "},map:{},mark:{},menu:{},meta:{empty:!0,parent:" head noframes noscript "},meter:{},nav:{},noframes:{parent:" html body "},noscript:{parent:" body head noframes "},object:{},ol:{},optgroup:{parent:" select "},option:{parent:" optgroup select "},output:{},p:{},param:{empty:!0,parent:" applet object "},pre:{},progress:{},q:{},rp:{},rt:{},ruby:{},samp:{},script:{empty:!0,parent:" body div frame head iframe p pre span "},section:{},select:{},small:{},span:{},source:{},strong:{},style:{parent:" head ",empty:!0},sub:{},sup:{},table:{},tbody:{parent:" table "},td:{parent:" tr "},textarea:{},tfoot:{parent:" table "},th:{parent:" tr "},thead:{parent:" table "},time:{},title:{parent:" head "},tr:{parent:" table tbody thead tfoot "},tt:{},u:{},ul:{},"var":{},video:{}},xn={$:!1,jQuery:!1},wn={__filename:!1,__dirname:!1,Buffer:!1,GLOBAL:!1,global:!1,module:!1,process:!1,require:!1},kn={defineClass:!1,deserialize:!1,gc:!1,help:!1,load:!1,loadClass:!1,print:!1,quit:!1,readFile:!1,readUrl:!1,runCommand:!1,seal:!1,serialize:!1,spawn:!1,sync:!1,toint32:!1,version:!1},jn={Array:!1,Boolean:!1,Date:!1,decodeURI:!1,decodeURIComponent:!1,encodeURI:!1,encodeURIComponent:!1,Error:!1,eval:!1,EvalError:!1,Function:!1,hasOwnProperty:!1,isFinite:!1,isNaN:!1,JSON:!1,Math:!1,Number:!1,Object:!1,parseInt:!1,parseFloat:!1,RangeError:!1,ReferenceError:!1,RegExp:!1,String:!1,SyntaxError:!1,TypeError:!1,URIError:!1},_n={E:!0,LN2:!0,LN10:!0,LOG2E:!0,LOG10E:!0,MAX_VALUE:!0,MIN_VALUE:!0,NEGATIVE_INFINITY:!0,PI:!0,POSITIVE_INFINITY:!0,SQRT1_2:!0,SQRT2:!0},En={},Sn={alert:!0,animator:!0,appleScript:!0,beep:!0,bytesToUIString:!0,Canvas:!0,chooseColor:!0,chooseFile:!0,chooseFolder:!0,closeWidget:!0,COM:!0,convertPathToHFS:!0,convertPathToPlatform:!0,CustomAnimation:!0,escape:!0,FadeAnimation:!0,filesystem:!0,Flash:!0,focusWidget:!0,form:!0,FormField:!0,Frame:!0,HotKey:!0,Image:!0,include:!0,isApplicationRunning:!0,iTunes:!0,konfabulatorVersion:!0,log:!0,md5:!0,MenuItem:!0,MoveAnimation:!0,openURL:!0,play:!0,Point:!0,popupMenu:!0,preferenceGroups:!0,preferences:!0,print:!0,prompt:!0,random:!0,Rectangle:!0,reloadWidget:!0,ResizeAnimation:!0,resolvePath:!0,resumeUpdates:!0,RotateAnimation:!0,runCommand:!0,runCommandInBg:!0,saveAs:!0,savePreferences:!0,screen:!0,ScrollBar:!0,showWidgetPreferences:!0,sleep:!0,speak:!0,Style:!0,suppressUpdates:!0,system:!0,tellWidget:!0,Text:!0,TextArea:!0,Timer:!0,unescape:!0,updateNow:!0,URL:!0,Web:!0,widget:!0,Window:!0,XMLDOM:!0,XMLHttpRequest:!0,yahooCheckLogin:!0,yahooLogin:!0,yahooLogout:!0},Cn={ActiveXObject:!1,CScript:!1,Debug:!1,Enumerator:!1,System:!1,VBArray:!1,WScript:!1},Tn=/@cc|<\/?|script|\]\s*\]|<\s*!|&lt/i,An=/[\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/,Nn=/^\s*([(){}\[.,:;'"~\?\]#@]|==?=?|\/(\*(jshint|members?|global)?|=|\/)?|\*[\/=]?|\+(?:=|\++)?|-(?:=|-+)?|%=?|&[&=]?|\|[|=]?|>>?>?=?|<([\/=!]|\!(\[|--)?|<=?)?|\^=?|\!=?=?|[a-zA-Z_$][a-zA-Z0-9_$]*|[0-9]+([xX][0-9a-fA-F]+|\.[0-9]*)?([eE][+\-]?[0-9]+)?)/,qn=/^\s*(['"=>\/&#]|<(?:\/|\!(?:--)?)?|[a-zA-Z][a-zA-Z0-9_\-:]*|[0-9]+|--)/,Mn=/[\u0000-\u001f&<"\/\\\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/,Dn=/[\u0000-\u001f&<"\/\\\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,On=/[>&]|<[\/!]?|--/,In=/\*\/|\/\*/,Rn=/^([a-zA-Z_$][a-zA-Z0-9_$]*)$/,Ln=/^(?:javascript|jscript|ecmascript|vbscript|mocha|livescript)\s*:/i,Fn=/&|\+|\u00AD|\.\.|\/\*|%[^;]|base64|url|expression|data|mailto/i,Bn=/^\s*([{:#%.=,>+\[\]@()"';]|\*=?|\$=|\|=|\^=|~=|[a-zA-Z_][a-zA-Z0-9_\-]*|[0-9]+|<\/|\/\*)/,Pn=/^\s*([@#!"'};:\-%.=,+\[\]()*_]|[a-zA-Z][a-zA-Z0-9._\-]*|\/\*?|\d+(?:\.\d+)?|<\/)/,Hn=/[^a-zA-Z0-9+\-_\/ ]/,Un=/[\[\]\/\\"'*<>.&:(){}+=#]/,zn=/^\s*\/\*\s*falls\sthrough\s*\*\/\s*$/,Wn={outer:qn,html:qn,style:Bn,styleproperty:Pn};
"function"!=typeof Array.isArray&&(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.apply(e)}),"function"!=typeof Object.create&&(Object.create=function(t){return e.prototype=t,new e}),"function"!=typeof Object.keys&&(Object.keys=function(e){var n,i=[];for(n in e)t(e,n)&&i.push(n);return i}),"function"!=typeof String.prototype.entityify&&(String.prototype.entityify=function(){return this.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}),"function"!=typeof String.prototype.isAlpha&&(String.prototype.isAlpha=function(){return this>="a"&&"z￿">=this||this>="A"&&"Z￿">=this}),"function"!=typeof String.prototype.isDigit&&(String.prototype.isDigit=function(){return this>="0"&&"9">=this}),"function"!=typeof String.prototype.supplant&&(String.prototype.supplant=function(e){return this.replace(/\{([^{}]*)\}/g,function(t,n){var i=e[n];return"string"==typeof i||"number"==typeof i?i:t})}),"function"!=typeof String.prototype.name&&(String.prototype.name=function(){return Rn.test(this)?this:Mn.test(this)?'"'+this.replace(Dn,function(e){var t=vn[e];return t?t:"\\u"+("0000"+e.charCodeAt().toString(16)).slice(-4)})+'"':'"'+this+'"'});var $n=function $n(){function e(){var e;return s>=Ut.length?!1:(i=1,o=Ut[s],s+=1,e=o.search(/ \t/),e>=0&&a("Mixed spaces and tabs.",s,e+1),o=o.replace(/\t/g,nn),e=o.search(An),e>=0&&a("Unsafe character.",s,e),Gt.maxlen&&Gt.maxlen<o.length&&a("Line too long.",s,o.length),!0)}function n(e,n){var o,c;return c="(color)"===e||"(range)"===e?{type:e}:"(punctuator)"===e||"(identifier)"===e&&t(En,n)?En[n]||En["(error)"]:En[e],c=Object.create(c),("(string)"===e||"(range)"===e)&&Ln.test(n)&&a("Script URL.",s,r),"(identifier)"===e&&(c.identifier=!0,"__iterator__"===n||"__proto__"===n?l("Reserved name '{a}'.",s,r,n):!Gt.nomen||"_"!==n.charAt(0)&&"_"!==n.charAt(n.length-1)||a("Unexpected {a} in '{b}'.",s,r,"dangling '_'",n)),c.value=n,c.line=s,c.character=i,c.from=r,o=c.id,"(endline)"!==o&&(Qt=o&&("(,=:[!&|?{};".indexOf(o.charAt(o.length-1))>=0||"return"===o)),c}var i,r,s,o;return{init:function(t){Ut="string"==typeof t?t.replace(/\r\n/g,"\n").replace(/\r/g,"\n").split("\n"):t,s=0,e(),r=1},range:function(e,t){var c,u="";for(r=i,o.charAt(0)!==e&&l("Expected '{a}' and instead saw '{b}'.",s,i,e,o.charAt(0));;){switch(o=o.slice(1),i+=1,c=o.charAt(0)){case"":l("Missing '{a}'.",s,i,c);break;case t:return o=o.slice(1),i+=1,n("(range)",u);case ln:case"\\":a("Unexpected '{a}'.",s,i,c)}u+=c}},token:function(){function t(e){var t,n=e.exec(o);return n?(v=n[0].length,t=n[1],d=t.charAt(0),o=o.substr(v),r=i+v-t.length,i+=v,t):void 0}function c(t){function c(e){var t=parseInt(o.substr(d+1,e),16);d+=e,t>=32&&126>=t&&34!==t&&92!==t&&39!==t&&a("Unnecessary escapement.",s,i),i+=e,u=String.fromCharCode(t)}var u,d,f="";if(Ht&&'"'!==t&&a("Strings must use doublequote.",s,i),ln===t||"scriptstring"===on&&!ln)return n("(punctuator)",t);for(d=0;;){for(;d>=o.length;)d=0,"html"===on&&e()||l("Unclosed string.",s,r);if(u=o.charAt(d),u===t)return i+=1,o=o.substr(d+1),n("(string)",f,t);if(" ">u){if("\n"===u||"\r"===u)break;a("Control character in string: {a}.",s,i+d,o.slice(0,d))}else if(u===ln)a("Bad HTML string",s,i+d);else if("<"===u)Gt.safe&&"html"===on?a("ADsafe string violation.",s,i+d):"/"===o.charAt(d+1)&&(on||Gt.safe)?a("Expected '<\\/' and instead saw '</'.",s,i):"!"===o.charAt(d+1)&&(on||Gt.safe)&&a("Unexpected '<!' in a string.",s,i);else if("\\"===u)if("html"===on)Gt.safe&&a("ADsafe string violation.",s,i+d);else if("styleproperty"===on)d+=1,i+=1,u=o.charAt(d),u!==t&&a("Escapement in style string.",s,i+d);else switch(d+=1,i+=1,u=o.charAt(d)){case ln:a("Bad HTML string",s,i+d);break;case"\\":case'"':case"/":break;case"'":Ht&&a("Avoid \\'.",s,i);break;case"b":u="\b";break;case"f":u="\f";break;case"n":u="\n";break;case"r":u="\r";break;case"t":u="	";break;case"u":c(4);break;case"v":Ht&&a("Avoid \\v.",s,i),u="";break;case"x":Ht&&a("Avoid \\x-.",s,i),c(2);break;default:a("Bad escapement.",s,i)}f+=u,i+=1,d+=1}}for(var u,d,f,p,h,m,g,v,y,b,x;;){if(!o)return n(e()?"(endline)":"(end)","");for(;"outer"===on&&(g=o.search(On),0!==g);){if(g>0){i+=1,o=o.slice(g);break}if(!e())return n("(end)","")}if(x=t(Wn[on]||Nn)){if(d.isAlpha()||"_"===d||"$"===d)return n("(identifier)",x);if(d.isDigit())return"style"===on||isFinite(Number(x))||a("Bad number '{a}'.",s,i,x),"style"!==on&&"styleproperty"!==on&&o.substr(0,1).isAlpha()&&a("Missing space after '{a}'.",s,i,x),"0"===d&&(p=x.substr(1,1),p.isDigit()?"."!==rn.id&&"styleproperty"!==on&&a("Don't use extra leading zeros '{a}'.",s,i,x):!Ht||"x"!==p&&"X"!==p||a("Avoid 0x-. '{a}'.",s,i,x)),"."===x.substr(x.length-1)&&a("A trailing decimal point can be confused with a dot '{a}'.",s,i,x),n("(number)",x);switch(x){case'"':case"'":return c(x);case"//":Kt||on&&"script"!==on?a("Unexpected comment.",s,i):"script"===on&&/<\s*\//i.test(o)?a("Unexpected </ in comment.",s,i):(Gt.safe||"script"===on)&&Tn.test(o)&&a("Dangerous comment.",s,i),o="",rn.comment=!0;break;case"/*":for((Kt||on&&"script"!==on&&"style"!==on&&"styleproperty"!==on)&&a("Unexpected comment.",s,i),Gt.safe&&Tn.test(o)&&a("ADsafe comment violation.",s,i);g=o.search(In),!(g>=0);)e()?Gt.safe&&Tn.test(o)&&a("ADsafe comment violation.",s,i):l("Unclosed comment.",s,i);i+=g+2,"/"===o.substr(g,1)&&l("Nested comment.",s,i),o=o.substr(g+2),rn.comment=!0;break;case"/*members":case"/*member":case"/*jshint":case"/*global":case"*/":return{value:x,type:"special",line:s,character:i,from:r};case"":break;case"/":if("/="===rn.id&&l("A regular expression literal can be confused with '/='.",s,r),Qt){for(h=0,f=0,v=0;;){switch(u=!0,d=o.charAt(v),v+=1,d){case"":return l("Unclosed regular expression.",s,r),void 0;case"/":for(h>0&&a("Unescaped '{a}'.",s,r+v,"/"),d=o.substr(0,v-1),b={g:!0,i:!0,m:!0};b[o.charAt(v)]===!0;)b[o.charAt(v)]=!1,v+=1;return i+=v,o=o.substr(v),b=o.charAt(0),("/"===b||"*"===b)&&l("Confusing regular expression.",s,r),n("(regexp)",d);case"\\":d=o.charAt(v)," ">d?a("Unexpected control character in regular expression.",s,r+v):"<"===d&&a("Unexpected escaped character '{a}' in regular expression.",s,r+v,d),v+=1;break;case"(":if(h+=1,u=!1,"?"===o.charAt(v))switch(v+=1,o.charAt(v)){case":":case"=":case"!":v+=1;break;default:a("Expected '{a}' and instead saw '{b}'.",s,r+v,":",o.charAt(v))}else f+=1;break;case"|":u=!1;break;case")":0===h?a("Unescaped '{a}'.",s,r+v,")"):h-=1;break;case" ":for(b=1;" "===o.charAt(v);)v+=1,b+=1;b>1&&a("Spaces are hard to count. Use {{a}}.",s,r+v,b);break;case"[":d=o.charAt(v),"^"===d&&(v+=1,Gt.regexp?a("Insecure '{a}'.",s,r+v,d):"]"===o.charAt(v)&&l("Unescaped '{a}'.",s,r+v,"^")),b=!1,"]"===d&&(a("Empty class.",s,r+v-1),b=!0);e:do switch(d=o.charAt(v),v+=1,d){case"[":case"^":a("Unescaped '{a}'.",s,r+v,d),b=!0;break;case"-":b?b=!1:(a("Unescaped '{a}'.",s,r+v,"-"),b=!0);break;case"]":b||a("Unescaped '{a}'.",s,r+v-1,"-");break e;case"\\":d=o.charAt(v)," ">d?a("Unexpected control character in regular expression.",s,r+v):"<"===d&&a("Unexpected escaped character '{a}' in regular expression.",s,r+v,d),v+=1,b=!0;break;case"/":a("Unescaped '{a}'.",s,r+v-1,"/"),b=!0;break;case"<":"script"===on&&(d=o.charAt(v),("!"===d||"/"===d)&&a("HTML confusion in regular expression '<{a}'.",s,r+v,d)),b=!0;break;default:b=!0}while(d);break;case".":Gt.regexp&&a("Insecure '{a}'.",s,r+v,d);break;case"]":case"?":case"{":case"}":case"+":case"*":a("Unescaped '{a}'.",s,r+v,d);break;case"<":"script"===on&&(d=o.charAt(v),("!"===d||"/"===d)&&a("HTML confusion in regular expression '<{a}'.",s,r+v,d))}if(u)switch(o.charAt(v)){case"?":case"+":case"*":v+=1,"?"===o.charAt(v)&&(v+=1);break;case"{":for(v+=1,d=o.charAt(v),("0">d||d>"9")&&a("Expected a number and instead saw '{a}'.",s,r+v,d),v+=1,y=+d;d=o.charAt(v),!("0">d||d>"9");)v+=1,y=+d+10*y;if(m=y,","===d&&(v+=1,m=1/0,d=o.charAt(v),d>="0"&&"9">=d))for(v+=1,m=+d;d=o.charAt(v),!("0">d||d>"9");)v+=1,m=+d+10*m;"}"!==o.charAt(v)?a("Expected '{a}' and instead saw '{b}'.",s,r+v,"}",d):v+=1,"?"===o.charAt(v)&&(v+=1),y>m&&a("'{a}' should not be greater than '{b}'.",s,r+v,y,m)}}return d=o.substr(0,v-1),i+=v,o=o.substr(v),n("(regexp)",d)}return n("(punctuator)",x);case"<!--":for(v=s,d=i;g=o.indexOf("--"),!(g>=0);)g=o.indexOf("<!"),g>=0&&l("Nested HTML comment.",s,i+g),e()||l("Unclosed HTML comment.",v,d);v=o.indexOf("<!"),v>=0&&g>v&&l("Nested HTML comment.",s,i+v),i+=g,">"!==o.charAt(g+2)&&l("Expected -->.",s,i),i+=3,o=o.slice(g+3);break;case"#":if("html"===on||"styleproperty"===on){for(;d=o.charAt(0),!(("0">d||d>"9")&&("a">d||d>"f")&&("A">d||d>"F"));)i+=1,o=o.substr(1),x+=d;return 4!==x.length&&7!==x.length&&a("Bad hex color '{a}'.",s,r+v,x),n("(color)",x)}return n("(punctuator)",x);default:if("outer"===on&&"&"===d){for(i+=1,o=o.substr(1);d=o.charAt(0),i+=1,o=o.substr(1),";"!==d;)d>="0"&&"9">=d||d>="a"&&"z">=d||"#"===d||l("Bad entity",s,r+v,i);break}return n("(punctuator)",x)}}else{for(x="",d="";o&&"!">o;)o=o.substr(1);if(o){if("html"===on)return n("(error)",o.charAt(0));l("Unexpected '{a}'.",s,i,o.substr(0,1))}}}}}}();At=[st,function(){for(;;)if(Vt.identifier)switch(Vt.value.toLowerCase()){case"url":st();break;case"expression":s("Unexpected expression '{a}'.",Vt,Vt.value),f();break;default:f()}else{if(";"===Vt.id||"!"===Vt.id||"(end)"===Vt.id||"}"===Vt.id)return!0;f()}}],Nt=["none","dashed","dotted","double","groove","hidden","inset","outset","ridge","solid"],qt=["auto","always","avoid","left","right"],Mt={all:!0,braille:!0,embossed:!0,handheld:!0,print:!0,projection:!0,screen:!0,speech:!0,tty:!0,tv:!0},Dt=["auto","hidden","scroll","visible"],Tt={background:[!0,"background-attachment","background-color","background-image","background-position","background-repeat"],"background-attachment":["scroll","fixed"],"background-color":["transparent",Q],"background-image":["none",st],"background-position":[2,[J,"top","bottom","left","right","center"]],"background-repeat":["repeat","repeat-x","repeat-y","no-repeat"],border:[!0,"border-color","border-style","border-width"],"border-bottom":[!0,"border-bottom-color","border-bottom-style","border-bottom-width"],"border-bottom-color":Q,"border-bottom-style":Nt,"border-bottom-width":K,"border-collapse":["collapse","separate"],"border-color":["transparent",4,Q],"border-left":[!0,"border-left-color","border-left-style","border-left-width"],"border-left-color":Q,"border-left-style":Nt,"border-left-width":K,"border-right":[!0,"border-right-color","border-right-style","border-right-width"],"border-right-color":Q,"border-right-style":Nt,"border-right-width":K,"border-spacing":[2,J],"border-style":[4,Nt],"border-top":[!0,"border-top-color","border-top-style","border-top-width"],"border-top-color":Q,"border-top-style":Nt,"border-top-width":K,"border-width":[4,K],bottom:[J,"auto"],"caption-side":["bottom","left","right","top"],clear:["both","left","none","right"],clip:[rt,"auto"],color:Q,content:["open-quote","close-quote","no-open-quote","no-close-quote",Y,st,it,tt],"counter-increment":[X,"none"],"counter-reset":[X,"none"],cursor:[st,"auto","crosshair","default","e-resize","help","move","n-resize","ne-resize","nw-resize","pointer","s-resize","se-resize","sw-resize","w-resize","text","wait"],direction:["ltr","rtl"],display:["block","compact","inline","inline-block","inline-table","list-item","marker","none","run-in","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group"],"empty-cells":["show","hide"],"float":["left","none","right"],font:["caption","icon","menu","message-box","small-caption","status-bar",!0,"font-size","font-style","font-weight","font-family"],"font-family":nt,"font-size":["xx-small","x-small","small","medium","large","x-large","xx-large","larger","smaller",J],"font-size-adjust":["none",G],"font-stretch":["normal","wider","narrower","ultra-condensed","extra-condensed","condensed","semi-condensed","semi-expanded","expanded","extra-expanded"],"font-style":["normal","italic","oblique"],"font-variant":["normal","small-caps"],"font-weight":["normal","bold","bolder","lighter",G],height:[J,"auto"],left:[J,"auto"],"letter-spacing":["normal",J],"line-height":["normal",Z],"list-style":[!0,"list-style-image","list-style-position","list-style-type"],"list-style-image":["none",st],"list-style-position":["inside","outside"],"list-style-type":["circle","disc","square","decimal","decimal-leading-zero","lower-roman","upper-roman","lower-greek","lower-alpha","lower-latin","upper-alpha","upper-latin","hebrew","katakana","hiragana-iroha","katakana-oroha","none"],margin:[4,et],"margin-bottom":et,"margin-left":et,"margin-right":et,"margin-top":et,"marker-offset":[J,"auto"],"max-height":[J,"none"],"max-width":[J,"none"],"min-height":J,"min-width":J,opacity:G,outline:[!0,"outline-color","outline-style","outline-width"],"outline-color":["invert",Q],"outline-style":["dashed","dotted","double","groove","inset","none","outset","ridge","solid"],"outline-width":K,overflow:Dt,"overflow-x":Dt,"overflow-y":Dt,padding:[4,J],"padding-bottom":J,"padding-left":J,"padding-right":J,"padding-top":J,"page-break-after":qt,"page-break-before":qt,position:["absolute","fixed","relative","static"],quotes:[8,Y],right:[J,"auto"],"table-layout":["auto","fixed"],"text-align":["center","justify","left","right"],"text-decoration":["none","underline","overline","line-through","blink"],"text-indent":J,"text-shadow":["none",4,[Q,J]],"text-transform":["capitalize","uppercase","lowercase","none"],top:[J,"auto"],"unicode-bidi":["normal","embed","bidi-override"],"vertical-align":["baseline","bottom","sub","super","top","text-top","middle","text-bottom",J],visibility:["visible","hidden","collapse"],"white-space":["normal","nowrap","pre","pre-line","pre-wrap","inherit"],width:[J,"auto"],"word-spacing":["normal",J],"word-wrap":["break-word","normal"],"z-index":["auto",G]},T("(number)",function(){return this}),T("(string)",function(){return this}),En["(identifier)"]={type:"(identifier)",lbp:0,identifier:!0,nud:function(){var e,t=this.value,n=Zt[t];if("function"==typeof n?n=void 0:"boolean"==typeof n&&(e=Ot,Ot=It[0],c(t,"var"),n=Ot,Ot=e),Ot===n)switch(Ot[t]){case"unused":Ot[t]="var";break;case"unction":Ot[t]="function",this["function"]=!0;break;case"function":this["function"]=!0;break;case"label":s("'{a}' is a statement label.",rn,t)}else if(Ot["(global)"])"typeof"!=St&&"delete"!=St&&Gt.undef&&"boolean"!=typeof Yt[t]&&s("'{a}' is not defined.",rn,t),V(rn);else switch(Ot[t]){case"closure":case"function":case"var":case"unused":s("'{a}' used out of scope.",rn,t);break;case"label":s("'{a}' is a statement label.",rn,t);break;case"outer":case"global":break;default:if(n===!0)Ot[t]=!0;else if(null===n)s("'{a}' is not allowed.",rn,t),V(rn);else if("object"!=typeof n)"typeof"!=St&&"delete"!=St&&Gt.undef?s("'{a}' is not defined.",rn,t):Ot[t]=!0,V(rn);else switch(n[t]){case"function":case"unction":this["function"]=!0,n[t]="closure",Ot[t]=n["(global)"]?"global":"outer";break;case"var":case"unused":n[t]="closure",Ot[t]=n["(global)"]?"global":"outer";break;case"closure":case"parameter":Ot[t]=n["(global)"]?"global":"outer";break;case"label":s("'{a}' is a statement label.",rn,t)}}return this},led:function(){o("Expected an operator and instead saw '{a}'.",Vt,Vt.value)}},T("(regexp)",function(){return this}),j("(endline)"),j("(begin)"),j("(end)").reach=!0,j("</").reach=!0,j("<!"),j("<!--"),j("-->"),j("(error)").reach=!0,j("}").reach=!0,j(")"),j("]"),j('"').reach=!0,j("'").reach=!0,j(";"),j(":").reach=!0,j(","),j("#"),j("@"),A("else"),A("case").reach=!0,A("catch"),A("default").reach=!0,A("finally"),N("arguments",function(e){tn&&Ot["(global)"]?s("Strict violation.",e):Gt.safe&&s("ADsafe violation.",e)}),N("eval",function(e){Gt.safe&&s("ADsafe violation.",e)}),N("false"),N("Infinity"),N("NaN"),N("null"),N("this",function(e){tn&&(Ot["(statement)"]&&Ot["(name)"].charAt(0)>"Z"||Ot["(global)"])?s("Strict violation.",e):Gt.safe&&s("ADsafe violation.",e)}),N("true"),N("undefined"),O("=","assign",20),O("+=","assignadd",20),O("-=","assignsub",20),O("*=","assignmult",20),O("/=","assigndiv",20).nud=function(){o("A regular expression literal can be confused with '/='.")},O("%=","assignmod",20),R("&=","assignbitand",20),R("|=","assignbitor",20),R("^=","assignbitxor",20),R("<<=","assignshiftleft",20),R(">>=","assignshiftright",20),R(">>>=","assignshiftrightunsigned",20),q("?",function(e,t){return t.left=e,t.right=p(10),f(":"),t["else"]=p(10),t},30),q("||","or",40),q("&&","and",50),I("|","bitor",70),I("^","bitxor",80),I("&","bitand",90),M("==",function(e,t){return Gt.eqeqeq?s("Expected '{a}' and instead saw '{b}'.",this,"===","=="):D(e)?s("Use '{a}' to compare with '{b}'.",this,"===",e.value):D(t)&&s("Use '{a}' to compare with '{b}'.",this,"===",t.value),this}),M("==="),M("!=",function(e,t){return Gt.eqeqeq?s("Expected '{a}' and instead saw '{b}'.",this,"!==","!="):D(e)?s("Use '{a}' to compare with '{b}'.",this,"!==",e.value):D(t)&&s("Use '{a}' to compare with '{b}'.",this,"!==",t.value),this}),M("!=="),M("<"),M(">"),M("<="),M(">="),I("<<","shiftleft",120),I(">>","shiftright",120),I(">>>","shiftrightunsigned",120),q("in","in",120),q("instanceof","instanceof",120),q("+",function(e,t){var n=p(130);return e&&n&&"(string)"===e.id&&"(string)"===n.id?(e.value+=n.value,e.character=n.character,Ln.test(e.value)&&s("JavaScript URL.",e),e):(t.left=e,t.right=n,t)},130),C("+","num"),C("+++",function(){return s("Confusing pluses."),this.right=p(150),this.arity="unary",this}),q("+++",function(e){return s("Confusing pluses."),this.left=e,this.right=p(130),this},130),q("-","sub",130),C("-","neg"),C("---",function(){return s("Confusing minuses."),this.right=p(150),this.arity="unary",this}),q("---",function(e){return s("Confusing minuses."),this.left=e,this.right=p(130),this},130),q("*","mult",140),q("/","div",140),q("%","mod",140),L("++","postinc"),C("++","preinc"),En["++"].exps=!0,L("--","postdec"),C("--","predec"),En["--"].exps=!0,C("delete",function(){var e=p(0);return(!e||"."!==e.id&&"["!==e.id)&&s("Variables should not be deleted."),this.first=e,this}).exps=!0,C("~",function(){return Gt.bitwise&&s("Unexpected '{a}'.",this,"~"),p(150),this}),C("!",function(){return this.right=p(150),this.arity="unary",cn[this.right.id]===!0&&s("Confusing use of '{a}'.",this,"!"),this}),C("typeof","typeof"),C("new",function(){var e,t=p(155);if(t&&"function"!==t.id)if(t.identifier)switch(t["new"]=!0,t.value){case"Object":s("Use the object literal notation {}.",rn);break;case"Array":return"("!==Vt.id?s("Use the array literal notation [].",rn):(f("("),")"===Vt.id&&s("Use the array literal notation [].",rn),f(")")),this.first=t,this;case"Number":case"String":case"Boolean":case"Math":case"JSON":s("Do not use {a} as a constructor.",rn,t.value);break;case"Function":Gt.evil||s("The Function constructor is eval.");break;case"Date":case"RegExp":break;default:"function"!==t.id&&(e=t.value.substr(0,1),Gt.newcap&&("A">e||e>"Z")&&s("A constructor name should start with an uppercase letter.",rn))}else"."!==t.id&&"["!==t.id&&"("!==t.id&&s("Bad constructor.",rn);else s("Weird construction. Delete 'new'.",this);return h(rn,Vt),"("!==Vt.id&&s("Missing '()' invoking a constructor."),this.first=t,this}),En["new"].exps=!0,q(".",function(e,t){h(Jt,rn),m();var n=B();if("string"==typeof n&&$(n),t.left=e,t.right=n,Gt.noarg&&e&&"arguments"===e.value&&("callee"===n||"caller"===n)?s("Avoid arguments.{a}.",e,n):Gt.evil||!e||"document"!==e.value||"write"!==n&&"writeln"!==n?Gt.adsafe&&e&&"ADSAFE"===e.value&&("id"===n||"lib"===n?s("ADsafe violation.",t):"go"===n&&("script"!==on?s("ADsafe violation.",t):(Et||"("!==Vt.id||"(string)"!==d(0).id||d(0).value!==jt||","!==d(1).id)&&o("ADsafe violation: go.",t),Et=!0,_t=!1)):s("document.write can be a form of eval.",e),Gt.evil||"eval"!==n&&"execScript"!==n){if(Gt.safe)for(;un[n]===!0&&s("ADsafe restricted word '{a}'.",rn,n),"boolean"==typeof Yt[e.value]&&"("!==Vt.id;){if(_n[n]===!0){"."===Vt.id&&s("ADsafe violation.",t);break}if("."!==Vt.id){s("ADsafe violation.",t);break}f("."),rn.left=t,rn.right=n,t=rn,n=B(),"string"==typeof n&&$(n)}}else s("eval is evil.");return t},160,!0),q("(",function(e,t){"}"!==Jt.id&&")"!==Jt.id&&m(Jt,rn),g(),Gt.immed&&!e.immed&&"function"===e.id&&s("Wrap an immediate function invocation in parentheses to assist the reader in understanding that the expression is the result of a function, and not the function itself.");var n=0,i=[];if(e&&("(identifier)"===e.type?e.value.match(/^[A-Z]([A-Z0-9_$]*[a-z][A-Za-z0-9_$]*)?$/)&&"Number"!==e.value&&"String"!==e.value&&"Boolean"!==e.value&&"Date"!==e.value&&("Math"===e.value?s("Math is not a function.",e):Gt.newcap&&s("Missing 'new' prefix when invoking a constructor.",e)):"."===e.id&&Gt.safe&&"Math"===e.left.value&&"random"===e.right&&s("ADsafe violation.",e)),")"!==Vt.id)for(;i[i.length]=p(10),n+=1,","===Vt.id;)w();return f(")"),g(Jt,rn),"object"==typeof e&&("parseInt"===e.value&&1===n&&s("Missing radix parameter.",e),Gt.evil||("eval"===e.value||"Function"===e.value||"execScript"===e.value?s("eval is evil.",e):!i[0]||"(string)"!==i[0].id||"setTimeout"!==e.value&&"setInterval"!==e.value||s("Implied eval is evil. Pass a function instead of a string.",e)),e.identifier||"."===e.id||"["===e.id||"("===e.id||"&&"===e.id||"||"===e.id||"?"===e.id||s("Bad invocation.",e)),t.left=e,t},155,!0).exps=!0,C("(",function(){g(),"function"===Vt.id&&(Vt.immed=!0);var e=p(0);return f(")",this),g(Jt,rn),Gt.immed&&"function"===e.id&&("("===Vt.id?s("Move the invocation into the parens that contain the function.",Vt):s("Do not wrap function literals in parens unless they are to be immediately invoked.",this)),e}),q("[",function(e,t){m(Jt,rn),g();var n,i=p(0);return i&&"(string)"===i.type?(Gt.safe&&un[i.value]===!0?s("ADsafe restricted word '{a}'.",t,i.value):Gt.evil||"eval"!==i.value&&"execScript"!==i.value?!Gt.safe||"_"!==i.value.charAt(0)&&"-"!==i.value.charAt(0)||s("ADsafe restricted subscript '{a}'.",t,i.value):s("eval is evil.",t),$(i.value),!Gt.sub&&Rn.test(i.value)&&(n=En[i.value],n&&n.reserved||s("['{a}'] is better written in dot notation.",i,i.value))):(!i||"(number)"!==i.type||0>i.value)&&Gt.safe&&s("ADsafe subscripting."),f("]",t),g(Jt,rn),t.left=e,t.right=i,t},160,!0),C("[",function(){var e=rn.line!==Vt.line;for(this.first=[],e&&(Pt+=Gt.indent,Vt.from===Pt+Gt.indent&&(Pt+=Gt.indent));"(end)"!==Vt.id;){for(;","===Vt.id;)s("Extra comma."),f(",");if("]"===Vt.id)break;if(e&&rn.line!==Vt.line&&b(),this.first.push(p(10)),","!==Vt.id)break;if(w(),"]"===Vt.id&&!Gt.es5){s("Extra comma.",rn);break}}return e&&(Pt-=Gt.indent,b()),f("]",this),this},160),function(e){e.nud=function(){var e,t,n,i,r,a,l={};for(e=rn.line!==Vt.line,e&&(Pt+=Gt.indent,Vt.from===Pt+Gt.indent&&(Pt+=Gt.indent));"}"!==Vt.id;){if(e&&b(),"get"===Vt.value&&":"!==d().id)f("get"),Gt.es5||o("get/set are ES5 features."),n=bt(),n||o("Missing property name."),a=Vt,h(rn,Vt),t=wt(n),!Gt.loopfunc&&Ot["(loopage)"]&&s("Don't make functions within a loop.",a),r=t["(params)"],r&&s("Unexpected parameter '{a}' in get {b} function.",a,r[0],n),h(rn,Vt),f(","),b(),f("set"),i=bt(),n!==i&&o("Expected {a} and instead saw {b}.",rn,n,i),a=Vt,h(rn,Vt),t=wt(n),r=t["(params)"],r&&1===r.length&&"value"===r[0]||s("Expected (value) in set {a} function.",a,n);else{if(n=bt(),"string"!=typeof n)break;f(":"),v(rn,Vt),p(10)}if(l[n]===!0&&s("Duplicate member '{a}'.",Vt,n),l[n]=!0,$(n),","!==Vt.id)break;w(),","===Vt.id?s("Extra comma.",rn):"}"!==Vt.id||Gt.es5||s("Extra comma.",rn)}return e&&(Pt-=Gt.indent,b()),f("}",this),this},e.fud=function(){o("Expected to see a statement and instead saw a block.",rn)}}(j("{"));var Vn=function Vn(e){var t,n,i;for(Ot["(onevar)"]&&Gt.onevar?s("Too many var statements."):Ot["(global)"]||(Ot["(onevar)"]=!0),this.first=[];v(rn,Vt),t=B(),Ot["(global)"]&&Yt[t]===!1&&s("Redefinition of '{a}'.",rn,t),c(t,"unused"),!e&&(n=rn,this.first.push(rn),"="===Vt.id&&(v(rn,Vt),f("="),v(rn,Vt),"undefined"===Vt.id&&s("It is not necessary to initialize '{a}' to 'undefined'.",rn,t),"="===d(0).id&&Vt.identifier&&o("Variable {a} was not declared correctly.",Vt,Vt.value),i=p(0),n.first=i),","===Vt.id);)w();return this};_("var",Vn).exps=!0,E("function",function(){Bt&&s("Function statements should not be placed in blocks. Use a function expression or move the statement to the top of the outer function.",rn);var e=B();return h(rn,Vt),c(e,"unction"),wt(e,!0),"("===Vt.id&&Vt.line===rn.line&&o("Function statements are not invocable. Wrap the whole function invocation in parens."),this}),C("function",function(){var e=F();return e?h(rn,Vt):v(rn,Vt),wt(e),!Gt.loopfunc&&Ot["(loopage)"]&&s("Don't make functions within a loop."),this}),E("if",function(){var e=Vt;return f("("),v(this,e),g(),p(20),"="===Vt.id&&(Gt.boss||s("Expected a conditional expression and instead saw an assignment."),f("="),p(20)),f(")",e),g(Jt,rn),W(!0,!0),"else"===Vt.id&&(v(rn,Vt),f("else"),"if"===Vt.id||"switch"===Vt.id?H(!0):W(!0,!0)),this}),E("try",function(){var e,t,n;return Gt.adsafe&&s("ADsafe try violation.",this),W(!1),"catch"===Vt.id&&(f("catch"),v(rn,Vt),f("("),n=Zt,Zt=Object.create(n),t=Vt.value,"(identifier)"!==Vt.type?s("Expected an identifier and instead saw '{a}'.",Vt,t):c(t,"exception"),f(),f(")"),W(!1),e=!0,Zt=n),"finally"===Vt.id?(f("finally"),W(!1),void 0):(e||o("Expected '{a}' and instead saw '{b}'.",Vt,"catch",Vt.value),this)}),E("while",function(){var e=Vt;return Ot["(breakage)"]+=1,Ot["(loopage)"]+=1,f("("),v(this,e),g(),p(20),"="===Vt.id&&(Gt.boss||s("Expected a conditional expression and instead saw an assignment."),f("="),p(20)),f(")",e),g(Jt,rn),W(!0,!0),Ot["(breakage)"]-=1,Ot["(loopage)"]-=1,this}).labelled=!0,A("with"),E("switch",function(){var e=Vt,t=!1;for(Ot["(breakage)"]+=1,f("("),v(this,e),g(),this.condition=p(20),f(")",e),g(Jt,rn),v(rn,Vt),e=Vt,f("{"),v(rn,Vt),Pt+=Gt.indent,this.cases=[];;)switch(Vt.id){case"case":switch(Ot["(verb)"]){case"break":case"case":case"continue":case"return":case"switch":case"throw":break;default:zn.test(Ut[Vt.line-2])||s("Expected a 'break' statement before 'case'.",rn)}b(-Gt.indent),f("case"),this.cases.push(p(20)),t=!0,f(":"),Ot["(verb)"]="case";break;case"default":switch(Ot["(verb)"]){case"break":case"continue":case"return":case"throw":break;default:zn.test(Ut[Vt.line-2])||s("Expected a 'break' statement before 'default'.",rn)}b(-Gt.indent),f("default"),t=!0,f(":");break;case"}":return Pt-=Gt.indent,b(),f("}",e),(1===this.cases.length||"true"===this.condition.id||"false"===this.condition.id)&&s("This 'switch' should be an 'if'.",this),Ot["(breakage)"]-=1,Ot["(verb)"]=void 0,void 0;case"(end)":return o("Missing '{a}'.",Vt,"}"),void 0;default:if(t)switch(rn.id){case",":return o("Each value should have its own case label."),void 0;case":":z();break;default:o("Missing ':' on a case clause.",rn)}else o("Expected '{a}' and instead saw '{b}'.",Vt,"case",Vt.value)}}).labelled=!0,_("debugger",function(){return Gt.debug||s("All 'debugger' statements should be removed."),this}).exps=!0,function(){var e=_("do",function(){Ot["(breakage)"]+=1,Ot["(loopage)"]+=1,this.first=W(!0),f("while");var e=Vt;return v(rn,e),f("("),g(),p(20),"="===Vt.id&&(Gt.boss||s("Expected a conditional expression and instead saw an assignment."),f("="),p(20)),f(")",e),g(Jt,rn),Ot["(breakage)"]-=1,Ot["(loopage)"]-=1,this});e.labelled=!0,e.exps=!0}(),E("for",function(){var e,t=Gt.forin,n=Vt;if(Ot["(breakage)"]+=1,Ot["(loopage)"]+=1,f("("),v(this,n),g(),"in"===d("var"===Vt.id?1:0).id){if("var"===Vt.id)f("var"),Vn(!0);else{switch(Ot[Vt.value]){case"unused":Ot[Vt.value]="var";break;case"var":break;default:s("Bad for in variable '{a}'.",Vt,Vt.value)}f()}return f("in"),p(20),f(")",n),e=W(!0,!0),!t&&(e.length>1||"object"!=typeof e[0]||"if"!==e[0].value)&&s("The body of a for in should be wrapped in an if statement to filter unwanted properties from the prototype.",this),Ot["(breakage)"]-=1,Ot["(loopage)"]-=1,this}if(";"!==Vt.id)if("var"===Vt.id)f("var"),Vn();else for(;p(0,"for"),","===Vt.id;)w();if(x(rn),f(";"),";"!==Vt.id&&(p(20),"="===Vt.id&&(Gt.boss||s("Expected a conditional expression and instead saw an assignment."),f("="),p(20))),x(rn),f(";"),";"===Vt.id&&o("Expected '{a}' and instead saw '{b}'.",Vt,")",";"),")"!==Vt.id)for(;p(0,"for"),","===Vt.id;)w();return f(")",n),g(Jt,rn),W(!0,!0),Ot["(breakage)"]-=1,Ot["(loopage)"]-=1,this}).labelled=!0,_("break",function(){var e=Vt.value;return 0===Ot["(breakage)"]&&s("Unexpected '{a}'.",Vt,this.value),x(this),";"!==Vt.id&&rn.line===Vt.line&&("label"!==Ot[e]?s("'{a}' is not a statement label.",Vt,e):Zt[e]!==Ot&&s("'{a}' is out of scope.",Vt,e),this.first=Vt,f()),P("break"),this}).exps=!0,_("continue",function(){var e=Vt.value;return 0===Ot["(breakage)"]&&s("Unexpected '{a}'.",Vt,this.value),x(this),";"!==Vt.id?rn.line===Vt.line&&("label"!==Ot[e]?s("'{a}' is not a statement label.",Vt,e):Zt[e]!==Ot&&s("'{a}' is out of scope.",Vt,e),this.first=Vt,f()):Ot["(loopage)"]||s("Unexpected '{a}'.",Vt,this.value),P("continue"),this}).exps=!0,_("return",function(){return x(this),"(regexp)"===Vt.id&&s("Wrap the /regexp/ literal in parens to disambiguate the slash operator."),";"===Vt.id||Vt.reach||(v(rn,Vt),this.first=p(20)),P("return"),this}).exps=!0,_("throw",function(){return x(this),v(rn,Vt),this.first=p(20),P("throw"),this}).exps=!0,A("void"),A("class"),A("const"),A("enum"),A("export"),A("extends"),A("import"),A("super"),A("let"),A("yield"),A("implements"),A("interface"),A("package"),A("private"),A("protected"),A("public"),A("static");var Xn=function(e,t){var n,r,a;if(JSHINT.errors=[],Yt=Object.create(jn),t){if(n=t.predef)if(Array.isArray(n))for(r=0;n.length>r;r+=1)Yt[n[r]]=!0;else if("object"==typeof n)for(a=Object.keys(n),r=0;a.length>r;r+=1)Yt[a[r]]=!!n[a];t.adsafe&&(t.safe=!0),t.safe&&(t.browser=t.css=t.debug=t.devel=t.evil=t.forin=t.loopfunc=t.on=t.rhino=t.windows=t.sub=t.widget=!1,t.eqeqeq=t.nomen=t.safe=t.undef=!0,Yt.Date=Yt.eval=Yt.Function=Yt.Object=null,Yt.ADSAFE=Yt.lib=!1),Gt=t}else Gt={};if(Gt.indent=Gt.indent||4,Gt.maxerr=Gt.maxerr||50,jt="",_t=!1,Et=!1,Ct={},Gt.approved)for(r=0;Gt.approved.length>r;r+=1)Ct[Gt.approved[r]]=Gt.approved[r];else Ct.test="test";for(nn="",r=0;Gt.indent>r;r+=1)nn+=" ";Pt=1,Rt=Object.create(Yt),Zt=Rt,Ot={"(global)":!0,"(name)":"(global)","(scope)":Zt,"(breakage)":0,"(loopage)":0},It=[Ot],Lt={},sn=[],Kt=!1,on=!1,en=null,Wt={},$t=null,Ft={},Bt=!1,zt=[],Ht=!1,an=0,$n.init(e),Qt=!0,tn=!1,Jt=rn=Vt=En["(begin)"],i();try{if(f(),"<"===Vt.value.charAt(0))yt(),Gt.adsafe&&!Et&&s("ADsafe violation: Missing ADSAFE.go.",this);else switch(Vt.id){case"{":case"[":Gt.laxbreak=!0,Ht=!0,kt();break;case"@":case"*":case"#":case".":case":":on="style",f(),"@"===rn.id&&Vt.identifier&&"charset"===Vt.value&&1===rn.line&&1===rn.from||o("A css file should begin with @charset 'UTF-8';"),f(),"(string)"!==Vt.type&&"UTF-8"!==Vt.value&&o("A css file should begin with @charset 'UTF-8';"),f(),f(";"),pt();break;default:Gt.adsafe&&Gt.fragment&&o("Expected '{a}' and instead saw '{b}'.",Vt,"<div>",Vt.value),"use strict"===Vt.value&&(s('Use the function form of "use strict".'),U()),z("lib")}f("(end)")}catch(l){l&&JSHINT.errors.push({reason:l.message,line:l.line||Vt.line,character:l.character||Vt.from},null)}return 0===JSHINT.errors.length};return Xn.data=function(){var e,n,i,r,s,a,o,l={functions:[]},c=[],u=[],d=[];Xn.errors.length&&(l.errors=Xn.errors),Ht&&(l.json=!0);for(a in Ft)t(Ft,a)&&c.push({name:a,line:Ft[a]});for(c.length>0&&(l.implieds=c),sn.length>0&&(l.urls=sn),n=Object.keys(Zt),n.length>0&&(l.globals=n),r=1;It.length>r;r+=1){for(i=It[r],e={},s=0;yn.length>s;s+=1)e[yn[s]]=[];for(a in i)t(i,a)&&"("!==a.charAt(0)&&(o=i[a],"unction"===o&&(o="unused"),Array.isArray(e[o])&&(e[o].push(a),"unused"===o&&d.push({name:a,line:i["(line)"],"function":i["(name)"]})));for(s=0;yn.length>s;s+=1)0===e[yn[s]].length&&delete e[yn[s]];e.name=i["(name)"],e.param=i["(params)"],e.line=i["(line)"],e.last=i["(last)"],l.functions.push(e)}d.length>0&&(l.unused=d),u=[];for(a in Wt)if("number"==typeof Wt[a]){l.member=Wt;break}return l},Xn.report=function(e){function t(e,t){var n,i,r;
if(t){for(h.push("<div><i>"+e+"</i> "),t=t.sort(),i=0;t.length>i;i+=1)t[i]!==r&&(r=t[i],h.push((n?", ":"")+r),n=!0);h.push("</div>")}}var n,i,r,s,a,o,l,c,u,d=Xn.data(),f=[],p="",h=[];if(d.errors||d.implieds||d.unused){if(r=!0,h.push("<div id=errors><i>Error:</i>"),d.errors)for(a=0;d.errors.length>a;a+=1)n=d.errors[a],n&&(i=n.evidence||"",h.push("<p>Problem"+(isFinite(n.line)?" at line "+n.line+" character "+n.character:"")+": "+n.reason.entityify()+"</p><p class=evidence>"+(i&&(i.length>80?i.slice(0,77)+"...":i).entityify())+"</p>"));if(d.implieds){for(u=[],a=0;d.implieds.length>a;a+=1)u[a]="<code>"+d.implieds[a].name+"</code>&nbsp;<i>"+d.implieds[a].line+"</i>";h.push("<p><i>Implied global:</i> "+u.join(", ")+"</p>")}if(d.unused){for(u=[],a=0;d.unused.length>a;a+=1)u[a]="<code><u>"+d.unused[a].name+"</u></code>&nbsp;<i>"+d.unused[a].line+"</i> <code>"+d.unused[a]["function"]+"</code>";h.push("<p><i>Unused variable:</i> "+u.join(", ")+"</p>")}d.json&&h.push("<p>JSON: bad.</p>"),h.push("</div>")}if(!e){for(h.push("<br><div id=functions>"),d.urls&&t("URLs<br>",d.urls,"<br>"),"style"===on?h.push("<p>CSS.</p>"):d.json&&!r?h.push("<p>JSON: good.</p>"):d.globals?h.push("<div><i>Global</i> "+d.globals.sort().join(", ")+"</div>"):h.push("<div><i>No new global variables introduced.</i></div>"),a=0;d.functions.length>a;a+=1)s=d.functions[a],h.push("<br><div class=function><i>"+s.line+"-"+s.last+"</i> "+(s.name||"")+"("+(s.param?s.param.join(", "):"")+")</div>"),t("<big><b>Unused</b></big>",s.unused),t("Closure",s.closure),t("Variable",s["var"]),t("Exception",s.exception),t("Outer",s.outer),t("Global",s.global),t("Label",s.label);if(d.member){if(f=Object.keys(d.member),f.length){for(f=f.sort(),p="<br><pre id=members>/*members ",l=10,a=0;f.length>a;a+=1)o=f[a],c=o.name(),l+c.length>72&&(h.push(p+"<br>"),p="    ",l=1),l+=c.length+2,1===d.member[o]&&(c="<i>"+c+"</i>"),f.length-1>a&&(c+=", "),p+=c;h.push(p+"<br>*/</pre>")}h.push("</div>")}}return h.join("")},Xn.jshint=Xn,Xn.edition="2011-02-19",Xn}();"object"==typeof exports&&exports&&(exports.JSHINT=JSHINT);